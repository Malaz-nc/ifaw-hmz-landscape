<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hwange-Matetsi-Zambezi Land Use Map</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
    crossorigin=""/>

    <!-- Custom Styles (Internal to avoid CSS conflicts) -->
    <style>
        body {
            padding: 0;
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
        }

        .container {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: #333;
            margin-bottom: 15px;
        }

        /* Map container - KEEP THE ID AS landuse-map to match the JS */
        #landuse-map {
            height: 80vh;
            width: 100%;
            border: 1px solid #ccc;
            position: relative;
            z-index: 1; /* Ensure map is below tooltips/popups */
        }

        /* Loading indicator */
        #loading-indicator {
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            margin-bottom: 10px;
            text-align: center;
            font-weight: bold;
            color: #666;
        }

        /* Info box styles */
        .info {
            padding: 6px 8px;
            font: 14px/16px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }

        .info h4 {
            margin: 0 0 5px;
            color: #333;
        }

        .legend {
            line-height: 18px;
            color: #555;
        }

        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }

        /* Popup styles */
        .popup-content {
            padding: 10px;
            font-size: 14px;
        }

        .popup-content strong {
            color: #333;
        }

        /* Error message */
        .error-message {
            color: red;
            text-align: center;
            padding: 20px;
            font-weight: bold;
        }

        /* Land use colors */
        .color-box {
            display: inline-block;
            width: 15px;
            height: 15px;
            margin-right: 5px;
            vertical-align: middle;
        }

        .national-park {
            background-color: #90EE90; /* Light green */
        }

        .forest {
            background-color: #006400; /* Dark green */
        }

        .safari {
            background-color: #F5DEB3; /* Beige */
        }

        .community {
            background-color: #8B4513; /* Dark brown */
        }

        .resettlement {
            background-color: #A52A2A; /* Brown */
        }

        .buffer-wards {
            background-color: #9C27B0; /* Purple */
        }

        .corridors {
            background-color: #4CAF50; /* Green */
        }

        .wildlife-corridors {
            background-color: #FF9800; /* Orange */
        }

        .project-site-box {
            width: 12px;
            height: 12px;
            display: inline-block;
            margin-right: 5px;
            background-color: transparent;
            border: 2px solid #FF5722;
            transform: rotate(45deg);
            vertical-align: middle;
        }

        #map-info {
            margin-top: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
        }

        #map-info ul {
            list-style-type: none;
            padding-left: 10px;
        }

        #map-info li {
            margin-bottom: 5px;
        }

        /* Label styles - Important: Make sure these are applied properly */
        .landuse-label {
            background: none !important;
            border: none !important;
            box-shadow: none !important;
            font-size: 12px !important;
            font-weight: bold !important;
            color: #333 !important;
            text-shadow: 2px 2px 3px white, -2px -2px 3px white, 2px -2px 3px white, -2px 2px 3px white !important;
            pointer-events: none !important;
            z-index: 1000 !important;
        }

        .place-label {
            background: none !important;
            border: none !important;
            box-shadow: none !important;
            font-size: 11px !important;
            font-weight: bold !important;
            color: #000 !important;
            text-shadow: 2px 2px 3px white, -2px -2px 3px white, 2px -2px 3px white, -2px 2px 3px white !important;
            pointer-events: none !important;
            z-index: 1000 !important;
        }

        /* Make sure tooltips appear above everything */
        .leaflet-tooltip {
            z-index: 1000 !important;
        }

        /* Fix for positioning permanent tooltips */
        .leaflet-tooltip-top:before,
        .leaflet-tooltip-bottom:before,
        .leaflet-tooltip-left:before,
        .leaflet-tooltip-right:before {
            display: none !important;
        }

        /* Project site icon style */
        .project-site-icon div {
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }
    </style>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
    crossorigin=""></script>
</head>
<body>
    <div class="container">
        <h1>Hwange-Matetsi-Zambezi Area - Land Use Map</h1>
        <div id="loading-indicator">Loading map data... Please wait.</div>
        <div id="landuse-map"></div>
        <div id="map-info">
            <p>This map displays land use categories and features in the Hwange-Matetsi-Zambezi area with the following color scheme:</p>
            <ul>
                <li><span class="color-box national-park"></span> National Parks</li>
                <li><span class="color-box forest"></span> Forest/State Forest</li>
                <li><span class="color-box safari"></span> Safari Areas/Matetsi Units</li>
                <li><span class="color-box community"></span> Community Conservation Areas</li>
                <li><span class="color-box resettlement"></span> Resettlement Areas</li>
                <li><span class="color-box buffer-wards"></span> Buffer Wards</li>
                <li><span class="color-box corridors"></span> Corridors</li>
                <li><span class="color-box wildlife-corridors"></span> Wildlife Corridors</li>
                <li><span class="project-site-box"></span> Project Sites</li>
            </ul>
            <p>Click on any feature for more information. Use the layer control in the top right to toggle different map layers.</p>
        </div>
    </div>

    <!-- Custom JavaScript - Load external map.js file -->
    <script src="map.js"></script>
</body>
</html>